# Portfolio & Project Showcase: Project Plan

## 1. Overview

This project aims to build a personal portfolio and project showcase website. It will feature a homepage with recent activity, a dedicated projects section with public/private views, and detailed project pages integrating social media feeds, GitHub commit history, and AI-generated commit summaries. The platform will be built using Next.js (App Router) and deployed on Cloudflare Workers, leveraging D1 for database, R2 for static asset storage, and Cloudflare AI for content generation.

## 2. Tech Stack

### Frontend

- Next.js (App Router, JavaScript)
- React
- Tailwind CSS

### Backend (Cloudflare Workers with OpenNext)

- Cloudflare Workers
- DrizzleORM (for D1 schema management and querying)
- Cloudflare D1 (SQLite Database)
- Cloudflare R2 (File Storage for markdown, assets.csv)
- Cloudflare AI (for commit summaries)
- OpenNext (for SSR/Edge deployment)

## 3. Project Structure

Use code with caution.
Markdown
.
├── app/ # Next.js App Router
│ ├── (marketing)/ # Marketing/Public facing pages
│ │ ├── layout.js # Layout for marketing pages
│ │ └── page.js # Homepage
│ ├── projects/ # Projects section
│ │ ├── page.js # Projects listing page
│ │ └── [id]/ # Dynamic route for individual project details
│ │ └── page.js # Project detail page
│ ├── api/ # API routes
│ │ ├── projects/ # Project related API endpoints
│ │ │ └── [id]/
│ │ │ ├── github-commits/route.js # Fetch GitHub commits
│ │ │ └── ai-summary/route.js # Generate AI summary for commit
│ │ ├── social/ # Social media integration endpoints
│ │ │ ├── twitter-feed/route.js # Fetch Twitter feed
│ │ │ └── reddit-comments/route.js # Fetch Reddit comments
│ │ └── webhook/ # Webhooks (e.g., for GitHub updates)
│ │ └── github/route.js
│ ├── components/ # React components
│ │ ├── layout/ # Layout components (Navbar, Footer)
│ │ ├── ui/ # Basic UI elements (Buttons, Cards, etc.)
│ │ ├── home/ # Components specific to the homepage
│ │ └── projects/ # Components specific to project pages
│ ├── lib/ # Utility functions, API clients
│ │ ├── db.js # DrizzleORM client and D1 connection
│ │ ├── r2.js # R2 client utilities
│ │ ├── github.js # GitHub API client
│ │ ├── twitter.js # Twitter API client
│ │ ├── reddit.js # Reddit API client
│ │ └── ai.js # Cloudflare AI client
│ ├── db/ # Database related code
│ │ ├── migrations/ # Database migrations (generated by Drizzle Kit)
│ │ └── schema.js # DrizzleORM schema for D1
│ ├── styles/ # Global styles (if globals.css is not enough)
│ ├── public/ # Static assets (images, favicons)
│ └── globals.css # Global styles (Tailwind base, etc.)
├── cursor-docs/
│ └── project-plan.md
├── docs/ # Project documentation (e.g., API usage if any)
├── eslint.config.mjs
├── jsconfig.json
├── next.config.mjs
├── open-next.config.ts
├── package.json
├── postcss.config.mjs
├── README.md
└── wrangler.jsonc

## 4. Development Phases

### Phase 1: Setup & Core Infrastructure (Estimated: 1 week)

- [x] Initialize Next.js project (JavaScript, App Router).
- [x] Configure Tailwind CSS.
- [x] Set up Cloudflare Workers for OpenNext deployment.
- [x] Configure `wrangler.jsonc` with D1, R2 bindings.
- [x] Set up D1 database with DrizzleORM.
  - [x] Define initial `projects` table schema in `src/db/schema.js`.
  - [x] Generate initial migration.
- [x] Set up R2 bucket for storing markdown files and `assets.csv`.
- [x] Basic deployment to Cloudflare.

### Phase 2: Homepage & Basic Layout (Estimated: 1 week)

- [ ] Create main layout (Navbar, Footer).
- [ ] Develop Homepage (`app/(root)/page.js`).
  - [ ] Collaboration section (static content initially).
  - [ ] Latest projects section (placeholder).
  - [ ] Twitter social media integration (basic feed display).
    - [ ] API route to fetch tweets.
    - [ ] Component to display tweets.

### Phase 3: Projects Pages & Database Integration (Estimated: 2 weeks)

- [ ] Develop Projects Listing Page (`app/projects/page.js`).
  - [ ] Fetch projects from D1.
  - [ ] Display projects in two sections: Public/Private.
  - [ ] Link to individual project pages.
- [ ] Develop Project Detail Page (`app/projects/[id]/page.js`).
  - [ ] Fetch project details from D1 based on ID.
  - [ ] Fetch and display markdown content from R2 (`details_markdown_s3_link`).
  - [ ] Fetch and display project images (parse `assets_csv_s3_link` from R2).
- [ ] Implement CRUD operations for projects (initially via seed script or simple admin interface if time allows).
  - [ ] Script to populate D1 with initial project data.
  - [ ] Utility functions in `src/lib/db.js` for project data management.

### Phase 4: GitHub & AI Integration (Estimated: 2 weeks)

- [ ] Integrate GitHub API for public projects on Project Detail Page.
  - [ ] API route to fetch recent commits (`app/api/projects/[id]/github-commits/route.js`).
  - [ ] Component to display commits.
- [ ] Integrate Cloudflare AI for commit summaries.
  - [ ] API route to generate summary for a commit message (`app/api/projects/[id]/ai-summary/route.js`).
  - [ ] Display AI summary alongside each commit.

### Phase 5: Social Media Comment Integration (Estimated: 1-2 weeks)

- [ ] Integrate Reddit comments on Project Detail Page.
  - [ ] API route to fetch Reddit comments related to `reddit_post_link`.
  - [ ] Component to display Reddit comments.
- [ ] Enhance Twitter integration on Project Detail Page (if different from homepage feed, e.g., specific tweet).

### Phase 6: Polish, Testing & Deployment (Estimated: 1 week)

- [ ] Responsive design testing and refinement.
- [ ] Cross-browser testing.
- [ ] Performance optimization (image optimization, code splitting).
- [ ] Finalize R2 file structure and access patterns.
- [ ] Write unit/integration tests for critical components and API routes.
- [ ] Thorough end-to-end testing.
- [ ] Documentation (README, any API usage).
- [ ] Production deployment and monitoring setup on Cloudflare.

## 5. Key Features

### Homepage

- [ ] Collaboration section.
- [ ] Latest projects showcase (dynamically pulled from D1).
- [ ] X (Twitter) social media feed.

### Projects Page (`/projects`)

- [ ] Showcase of all projects.
- [ ] Sections for Public & Private projects.
- [ ] Public projects link to GitHub repositories.

### Project Detail Page (`/projects/[id]`)

- [ ] Display project details from markdown file (fetched from R2).
- [ ] Display recent Git commits for public projects (via GitHub API).
- [ ] AI-generated summary for each Git commit (via Cloudflare AI).
- [ ] Display project images/assets (from `assets.csv` stored in R2).
- [ ] Integration of Reddit comments (linked via `reddit_post_link`).
- [ ] Integration of X (Twitter) post (linked via `twitter_post_link`).

## 6. Database Design (D1 - SQLite via DrizzleORM)

**Table: `projects`**

- `id`: TEXT (Primary Key, e.g., CUID generated by application or default Drizzle behavior)
- `name`: TEXT (NOT NULL)
- `slug`: TEXT (NOT NULL, UNIQUE, for URLs like `/projects/[slug]`)
- `description_short`: TEXT
- `twitter_post_link`: TEXT (Nullable)
- `reddit_post_link`: TEXT (Nullable)
- `details_markdown_r2_key`: TEXT (NOT NULL, R2 object key for the markdown file)
- `github_link`: TEXT (Nullable)
- `is_public`: INTEGER (BOOLEAN, 0 or 1, Default: 1)
- `tech_stack`: TEXT (JSON array of strings, e.g., `["nextjs", "nodejs"]`)
- `category`: TEXT (JSON array of strings, e.g., `["full stack", "GenAi"]`)
- `assets_csv_r2_key`: TEXT (Nullable, R2 object key for the assets.csv file)
- `cover_image_url`: TEXT (Nullable, direct URL or key to an image in R2)
- `project_url`: TEXT (Nullable, live URL of the project)
- `created_at`: TEXT (ISO8601 string, Default: current timestamp)
- `updated_at`: TEXT (ISO8601 string, Default: current timestamp)
